---
all:
  children:
    hypervisor:
      hosts:
        soundship:
          ansible_host: 10.0.0.2
          wg_vpn_ip: 10.1.0.1

    vms:
      children:
        devbox:
          hosts:
            devbox:
              ansible_host: 10.0.0.3
              os: "ubuntu-server-24.04"
              vcpus: 8
              memory: 24
              disk_size: "150G"
              gpu_passthrough: false
              wg_vpn_ip: 10.1.0.3

        llm-server:
          hosts:
            llm-server:
              ansible_host: 10.0.0.4
              os: "ubuntu-server-24.04"
              vcpus: 4
              memory: 8
              disk_size: "150G"
              gpu_passthrough: true
              gpu_domain: "0x0000"
              gpu_bus: "0x01"
              gpu_slot: "0x00"

        custom-image-builder:
          hosts:
            custom-image-builder:
              ansible_host: 10.0.0.7
              os: "ubuntu-server-24.04"
              vcpus: 4
              memory: 8
              gpu_passthrough: false
              disk_size: "25G"

        image-test:
          hosts:
            image-test:
              ansible_host: 10.0.0.30
              ansible_user: deployer
              os: sudoless-test2
              vcpus: 2
              memory: 2
              gpu_passthrough: false
              disk_size: "25G"

        staging-1g:
          hosts:
            staging-1g:
              ansible_host: 10.0.0.21
              os: "sf1tzp-24.04"
              vcpus: 1
              memory: 1
              disk_size: "25G"
              gpu_passthrough: false

        staging-v2:
          hosts:
            staging-v2:
              ansible_host: 10.0.0.22
              ansible_user: steven
              os: "sf1tzp-24.04"
              vcpus: 1
              memory: 1
              disk_size: "25G"
              gpu_passthrough: false

        staging-web:
          hosts:
            staging-web:
              ansible_host: 10.0.0.31
              ansible_user: deployer
              os: "ubuntu-server-24.04"
              vcpus: 2
              memory: 4
              disk_size: "25G"
              gpu_passthrough: false
              username: deployer
              wg_vpn_ip: 10.1.0.11
              wg_endpoint_ip: 10.0.0.31

        staging-db:
          hosts:
            staging-db:
              ansible_host: 10.0.0.32
              ansible_user: deployer
              os: "ubuntu-server-24.04"
              vcpus: 2
              memory: 4
              disk_size: "25G"
              gpu_passthrough: false
              username: deployer
              wg_vpn_ip: 10.1.0.12
              wg_endpoint_ip: 10.0.0.32

        db2-streetfortress-cloud:
          hosts:
            db2-streetfortress-cloud:
              ansible_host: db2.streetfortress.cloud
              ansible_user: deployer
              wg_vpn_ip: 10.1.0.51
              wg_endpoint_ip: db2.streetfortress.cloud

        web2-streetfortress-cloud:
          hosts:
            web2-streetfortress-cloud:
              ansible_host: web2.streetfortress.cloud
              ansible_user: deployer
              wg_vpn_ip: 10.1.0.52
              wg_endpoint_ip: web2.streetfortress.cloud

    nvidia:
      children:
        llm-server: {}

    containerd:
      children:
        hypervisor: {}
        devbox: {}
        llm-server: {}
        staging-1g: {}
        staging-v2: {}
        staging-web: {}
        staging-db: {}
        symbology-production: {}
        fitz-gg-production: {}
        db2-streetfortress-cloud: {}
        web2-streetfortress-cloud: {}

    monitoring:
      children:
        hypervisor: {}
        devbox: {}
        llm-server: {}
        staging-web: {}
        staging-db: {}
        db2-streetfortress-cloud: {}
        web2-streetfortress-cloud: {}

    wireguard:
      children:
        devbox: {}
        staging-web: {}
        staging-db: {}
        hypervisor: {}
        symbology-production: {}
        fitz-gg-production: {}
        db2-streetfortress-cloud: {}
        web2-streetfortress-cloud: {}

    staging:
      children:
        staging-1g: {}
        staging-v2: {}
